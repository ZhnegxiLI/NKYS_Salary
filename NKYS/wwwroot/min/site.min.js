Application.Configuration={baseUrl:"localhost/NKYS"};$(document).ready(function(){$("#DeleteCycle").on("click",function(n){var t=$(n.currentTarget).attr("data-cycle-id");$.ajax({url:"/Cycles/Delete",type:"POST",context:document.body,data:{id:t},success:{}})})});Application.Main={onload:function(){try{Application.Main.CurrentView!=null&&Application.ViewsScript[Application.Main.CurrentView]!=null&&Application.ViewsScript[Application.Main.CurrentView].init&&Application.ViewsScript[Application.Main.CurrentView].init()}catch(n){}}};window.onload=Application.Main.onload;Application={Configuration:{},Constants:{},Controls:{},ViewsScript:{},Services:{},Bussiness:{Services:{}}};SalarieSearch=function(){var n=this;n.searchCriteria={DepartmentId:-1,GroupId:-1,CycleId:-1};n.groupList=[];n.init=function(){console.log(Application.Main.CurrentView);Application.Services.CommonService.FindGroupList(null,function(t){t!=null&&t.length>0&&(n.groupList=t,console.log(n.groupList))})};n.OnChangeCriteria=function(t){var r,i,u;console.log(t.currentTarget);r=t.currentTarget.id;i=t.currentTarget.value;switch(r){case"SalariesSearchFilter_Select_DepartmentId":n.searchCriteria.DepartmentId=i;n.groupList!=null&&(u=n.groupList.filter(n=>n.DepartmentId==i),n.buildSelectOption($("#SalariesSearchFilter_Select_GroupId"),u,"Id","Name"));break;case"SalariesSearchFilter_Select_GroupId":n.searchCriteria.GroupId=i;break;case"SalariesSearchFilter_Select_PeriodId":n.searchCriteria.CycleId=i}n.checkCriteriaValidity()};n.buildSelectOption=function(n,t,i,r,u){var f=' <option selected value="-1"><\/option> ';t!=null&&t.length>0&&t.map(function(n){f+=u!=null&&n[i]==u?" <option value="+n[i]+" selected>"+n[r]+"<\/option> ":" <option value="+n[i]+">"+n[r]+"<\/option> "});n!=null&&n.html(f)};n.checkCriteriaValidity=function(){n.searchCriteria.DepartmentId!=null&&n.searchCriteria.DepartmentId!=-1&&n.searchCriteria.GroupId!=null&&n.searchCriteria.GroupId!=-1&&n.searchCriteria.CycleId!=null&&n.searchCriteria.CycleId!=-1?$("button#SalariesSearchFilter_Button_Search").removeAttr("disabled"):$("button#SalariesSearchFilter_Button_Search").prop("disabled",!0)};n.RefreshData=function(){$("#SalariesSearch_Table_Body").load("Salaries/OnGetSalaryTablePartial",n.searchCriteria)}};Application.ViewsScript.SalarieSearch=new SalarieSearch;CommonService=function(){var n=this;n.FindGroupList=function(n,t){$.ajax({url:"Groups/FindGroupList",type:"get",data:n,dataType:"json",success:t})}};Application.Services.CommonService=new CommonService;